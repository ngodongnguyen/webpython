{% extends "master.html" %}
{% block title %}Thống Kê{% endblock %}
{% block head %}
{{ super() }}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.debug.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.22/jspdf.plugin.autotable.min.js"
    integrity="sha512-3QG6xTKwQ+Gj16++ggVRGrg0pZbC5/u131WyV3Pg/C9JMIKubrs1SbeloGdT5tpx+fVVV1jjkuo+dzbbF080hw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="{{ url_for('static', filename='js/statistic.js') }}"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/statistic.css') }}">
{% endblock %}

{% block body %}
{{ super() }}

<div class="content">
    <div class="panel-header bg-primary-gradient">
        <div class="page-inner py-5">
            <div>
                <h2 class="text-white pb-2 fw-bold">Thống kê</h2>
                <h5 class="text-white op-7 mb-2">Phòng khám</h5>
            </div>
        </div>
    </div>
    <div class="page-inner mt--5">
        <div class="row mt--2 justify-content-center">
            <div class="col-md-4">
                <div class="form-group">
                    <label for="statisticType">Chọn loại thống kê</label>
                    <select id="statisticType" class="form-control">
                        <option value="revenue">Doanh thu</option>
                        <option value="examination">Tần suất khám bệnh</option>
                        <option value="frequency_of_medicine_use">Tần suất sử dụng thuốc</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4" id="input_time" style="display: none;">
                <label for="timeRange">Chọn khoảng thời gian</label>
                <div class="d-flex">
                    <select id="left_time" class="form-control me-2"></select>
                    <select id="right_time" class="form-control"></select>
                </div>
            </div>
            <div class="col-md-4" id="input_name_medicine" style="display: none;">
                <label for="name_medicine">Tên thuốc</label>
                <input type="text" id="name_medicine" class="form-control">
                <div id="result_input_name" class="show-hint"></div>
            </div>
        </div>
    </div>
    <div class="card mt-3">
        <canvas id="chart"></canvas>
    </div>
    <div id="statistic_table" class="mt-3" style="display: none;">
        <table class="table table-bordered">
            <thead id="title_statistic_table"></thead>
            <tbody id="data_statistic_table"></tbody>
        </table>
    </div>
    <div class="mt-3">
        <button id="pdfChart" class="btn btn-primary" style="display: none;">Xuất PDF</button>
    </div>
</div>
{% endblock %}